(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{112:function(A,e,t){A.exports={app:"App_app__1kX79"}},119:function(A,e,t){A.exports={pin:"CustomCursor_pin__Wqm2z"}},120:function(A,e,t){A.exports={button:"DialogFromNewPalace_button__2H7UR"}},122:function(A,e,t){A.exports={sideLayout:"SideLayout_sideLayout__WwGP2"}},14:function(A,e,t){A.exports={edit:"Edit_edit__1E7CU",layoutImage:"Edit_layoutImage__Do53e",pushedPin:"Edit_pushedPin__oJWgV",pinIcon:"Edit_pinIcon__1dVo5",togglPinList:"Edit_togglPinList__20Hut"}},143:function(A,e,t){},169:function(A,e,t){"use strict";t.r(e);var n=t(1),a=t.n(n),c=t(42),i=t.n(c),r=(t(143),t(112)),s=t.n(r),o=t(12),l=t(6),u=t(15),j=t.n(u),d=t(20),b=t(52),h=t(3),O=t(13),p=t.n(O),m="https://hackathon-21-winter-18.trap.show/backend",x=function(){var A=Object(d.a)(j.a.mark((function A(e){var t;return j.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,p.a.post(m+"/api/oauth/login",e,{withCredentials:!0});case 2:return t=A.sent,A.abrupt("return",t.data);case 4:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}(),f=function(){var A=Object(d.a)(j.a.mark((function A(e){var t;return j.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,p.a.post(m+"/api/oauth/signup",e,{withCredentials:!0});case 2:return t=A.sent,A.abrupt("return",t.data);case 4:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}(),g=function(){var A=Object(d.a)(j.a.mark((function A(){var e;return j.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,p.a.get(m+"/api/oauth/whoamI",{withCredentials:!0});case 2:return e=A.sent,A.abrupt("return",e.data);case 4:case"end":return A.stop()}}),A)})));return function(){return A.apply(this,arguments)}}(),v=t(93),w=t.n(v),C=t.p+"static/media/loading.ec6d19a7.gif",N=t(0),k=function(){return Object(N.jsx)("div",{className:w.a.loading,children:Object(N.jsxs)("div",{className:w.a.loadingText,children:["LOADING...",Object(N.jsx)("img",{src:C,alt:""})]})})},_=Object(n.createContext)({}),y=function(A){var e=A.children,t=Object(n.useState)({name:"",id:"",auth:!1}),a=Object(h.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(!1),s=Object(h.a)(r,2),o=s[0],l=s[1],u=Object(n.useState)(!0),O=Object(h.a)(u,2),p=O[0],m=O[1];Object(n.useEffect)((function(){g().then((function(A){return A&&i(Object(b.a)(Object(b.a)({},A),{},{auth:!0}))})).finally((function(){return m(!1)}))}),[]);var v=function(){var A=Object(d.a)(j.a.mark((function A(e){var t;return j.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return l(!0),A.next=3,x(e);case 3:t=A.sent,i(Object(b.a)(Object(b.a)({},t),{},{auth:!0})),l(!1);case 6:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}(),w=function(){var A=Object(d.a)(j.a.mark((function A(e){var t;return j.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return l(!0),A.next=3,f(e);case 3:t=A.sent,i(Object(b.a)(Object(b.a)({},t),{},{auth:!0})),l(!1);case 6:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}(),C=function(){i({name:"",id:"",auth:!1})},y=Object(n.useMemo)((function(){return{user:c,loading:o,login:v,signup:w,logout:C}}),[c,o]);return Object(N.jsx)(_.Provider,{value:y,children:p?Object(N.jsx)(k,{}):e})};function S(){return Object(n.useContext)(_)}var E=t(77),I=t.n(E),M=t(45),T=t.n(M),H=t(33),R=t.n(H),D=t(41),z=t.n(D),P=t(204),L=function(A){var e=A.num,t=A.palace,a=A.deletePalace,c=Object(n.useState)(!1),i=Object(h.a)(c,2),r=i[0],s=i[1],u=Object(n.useState)(!1),j=Object(h.a)(u,2),d=j[0],b=j[1],O=Object(n.useState)(!1),m=Object(h.a)(O,2),x=m[0],f=m[1],g=Object(n.useState)(t.share),v=Object(h.a)(g,2),w=v[0],C=v[1],k=Object(l.h)();function _(){switch(t.image.substring(0,5)){case"iVBOR":return"data:image/png;base64,"+t.image;case"R0IGO":return"data:image/gif;base64,"+t.image;case"/9j/4":return"data:image/jpeg;base64,"+t.image}}return Object(N.jsxs)("div",{className:T.a.palace,children:[Object(N.jsx)("img",{className:T.a.image,src:_(),alt:t.name,onClick:function(){return k("/memorize/"+t.id,{state:{shared:!1}})}}),Object(N.jsxs)("div",{className:T.a.titleContainer,children:[Object(N.jsx)("h1",{className:T.a.title,children:t.name}),Object(N.jsx)("button",{className:T.a.moreVertIcon,onClick:function(){return s(!0)},children:Object(N.jsx)(R.a,{})})]}),Object(N.jsxs)("div",{className:T.a.wordTag,children:[Object(N.jsx)(z.a,{className:T.a.commentIcon}),t.embededPins.length+" Words"]}),w?Object(N.jsx)("span",{children:"\u5171\u6709\u6e08"}):Object(N.jsx)("span",{children:"\u672a\u5171\u6709"}),Object(N.jsxs)(P.a,{open:r,onClose:function(){s(!1)},children:[Object(N.jsx)(o.b,{to:"/fix/"+t.id,state:{image:_()},children:"\u5bae\u6bbf\u306e\u7de8\u96c6"}),Object(N.jsx)("button",{onClick:function(){b(!0)},children:"\u5bae\u6bbf\u306e\u524a\u9664"}),Object(N.jsxs)(P.a,{open:d,onClose:function(){return b(!1)},children:["\u672c\u5f53\u306b\u5bae\u6bbf\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f",Object(N.jsx)("button",{onClick:function(){p.a.delete("https://hackathon-21-winter-18.trap.show/backend/api/palaces/"+t.id,{withCredentials:!0}),a(e)},children:"\u306f\u3044"}),Object(N.jsx)("button",{onClick:function(){return b(!1)},children:"\u3044\u3044\u3048"})]}),Object(N.jsx)("button",{onClick:function(){f(!0)},children:"\u5bae\u6bbf\u306e\u5171\u6709\u8a2d\u5b9a"}),Object(N.jsxs)(P.a,{open:x,onClose:function(){return f(!1)},children:[w?"\u5bae\u6bbf\u3092\u672a\u5171\u6709\u306b\u3057\u307e\u3059\u304b\uff1f":"\u5bae\u6bbf\u3092\u5171\u6709\u3057\u307e\u3059\u304b\uff1f",Object(N.jsx)("button",{onClick:function(){p.a.put("https://hackathon-21-winter-18.trap.show/backend/api/palaces/share/"+t.id,{share:!t.share},{withCredentials:!0}),C(!w),f(!1),s(!1)},children:"\u306f\u3044"}),Object(N.jsx)("button",{onClick:function(){return f(!1)},children:"\u3044\u3044\u3048"})]})]})]})},B=t(79),q=t.n(B),K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAa8SURBVHgB7Z3/TttWFMfPdQL9IVVL38A8wdInaHiAqvTfahMgVQO2SaTSppYkKCCSptX+aCZtC6yTSqVp/5ZqDwA8QXmD0Ccg06SNEOKzcw1mdn7ajh1fk/ORgMSxY9dfn3PP9177FoBhGIZhGIZhGIZhGIbpg4AIeVap6QlD7IMhD0RslNeX3sGEo0GETBniISDoT758oKPA3dzWdj2/VcvABBN9hLRFvesDhGMZMefnxuGrzZVjmCAiFUSSK22jQSc/AUYWQaS6VkDYFYDvyusrBzABKCHIi8KyuGxPiiTAQs8VJyRqlBHk6n351zSC8V5Q22Jfj6LniH43KFrSgGLvukaNcoJYPC/XFigiit3CQFUIOCZRFgAxdd2iJtIqaxAv8yu7hoazdMns2peTclkqk7MkVBW09iPUMJOYgo9Uob29DhWashFiR7YvGvmVzmiheDlqt+BRE242bk6fzmmorcY9aiIT5FmxpieTQP5DnmicPT+H42EnsF8ak5VY+xw35fa58s9pgIQUZi6ObU0kghSLb1OtqeaJcyk2/mndnKluLjYGbSujRbS1eQ1ww7n5RRVmuf0s7SOOURNZhORLtRO770A6oZX15Rm32/ctk+l7KFpm7Sc+TlETmSC50k6Rzt7Gky8ewG+//ynL2mqlsPQUPOImjVmL4hA10QlCfgPQ+Gi9b7dwZpQT85wE7pXGkKKhsr6y0b1/NaMm0iprrbS9TweQIW9xUCksz8KIDEpj/XqTVYuaSAWR6UZD8RbJ5FUC7HrPl948NES76iaN2VEhamLhQ/yyVtrJgsDVLrePuNkrjVlEGTXXWhCJnzTmOL4xR821F8Sin9tHAXvGGT4ddvWPK2omRhCLQZ2WRgt/dHOCw4yaiRNEIqMl2dZWqSTOOj5wmcYswoiaiRTE4qJ90V6bV7qdHm5/GJ1RQ2J/0kCre71xY6IFsfDi9ocho+bWVPO9OZBGXUNe/23KjoeMEzn2Uskvz8ixfccHAhYSSbG/Vvol6/a7biVPs/JOGhoWuAc+YEFsvCwsbbYTOOMYFBOgC9Bem7colbYfDtp+bau2QRvMGx7TnR0WpINXayvHL/LLi4bARZRDxRYkDFVie3JkUo7ldG4XhBiSWAtCjnuBfk7wf+r0Mw8BYE9jHcIsJKZE/UKAC4ISQ5KEeFP84ac/Uo2//jbf3P3sjv7dt4+r9DKwfjGZxqgae9fp9oUQRYqWebqkD9CATBBiSAIRJFferkPXeLeH7anSAq+gedXqlhiSk4vXKQgYmcbozyIJs+lw+5TGTJE02IOACCZljSCGb8T49ymFMdMYtS9U1l4NNZNAc1Ya69W+eIEbdR8IA3QDRaPrFiVKY7JMzm/t+G7HAhHE0eiNCcTx71Nib8BlNWaWyeZdlZfIauzyTn7wQeROfRRkWZUv7ziWlfNL8koNZ3xlQDXVz+2zUw+JHJ3wQaWtLJOnz27c63L7Hol72Ts2ELWUEKjLxpuqwp7rtKDpuML9pFUWxCWVwpL0N9XO5Z0l+6gdpUqmrB4OvCcDth9GPShHHzSqRojDgXuhs5HvRRiOPihUbdR1P2K4JSxHHwRcZSmGqoI0Uqk7EBZ3L777GBRE1Tbk6fffPC7SX33Yir2MoQtkP9QGKIiSgpDR3qU/u8PW61dpheXUxwH7EJ/0G3KQvsTrsy52WBCfUMeiecInwhhOMqFGiCOsKYxf+AzjSSLcCLHn2AhG+OIIpyzFYEEUI+6COBy9yg7cLXEvezsdvbIO3C2xFsSto48T3IYoBjt1n3DXiWKE1XUS/L297MhHIvh7e9mRjwQ36orBgigGC6IYLIhisCCKwYIohicfwn4jfLxFCPuN0OGUpRix7ssyJ3pJnmUoWu/Lh2kQjcNK4esqxJhYCSIFuD19OoeofS5nMwVopq8+NLv4hA49HqqJE0oLUizW9NY0ZIQh7qNGAmBTl4/8Cuj9rA59kpaiDZuuXGWUEkROAqZB4j4akAaBcy05FTmaj10DuJrrAWMrhEXkgjzbqmUSmlgViBlEkTLkQnH1ywXiSE7ETOXJ0b/NGx/GFR2DBqhGsQSRC5IUokgjbBn0/cg8pmnLtPy/EG9PNeHqCdmAfVKXAIMiliyBY+DKw7EoUPbaZkHoAhvy6jenSNK0DHj62oB90ijzuXg4lsgj5ByNDwkhLqfQozZAiAN6cYBCO6rkvjq0r9vv+fDrhCdB5Jwm1tQR9ofivS6382p95SBfejMnI6VcePIJXO5/6LEGPBeKl32HfSwMwzAMwzAMwzAMwzAMwzBd/AdJjUvSiScpbAAAAABJRU5ErkJggg==",U="data:image/gif;base64,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LvjghBeeUkAAOwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",Q=t(21),G=t.n(Q),J=t(94),W=t.n(J),V=t(65),Z=t.n(V),F=t(209),Y=function(A){return new Promise((function(e){var t="",n=new FileReader;n.readAsDataURL(A),n.onload=function(){var A;t=null===(A=n.result)||void 0===A?void 0:A.toString(),e(t)}}))},X=function(A){var e=A.onClose,t=Object(n.useState)("general"),a=Object(h.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(null),s=Object(h.a)(r,2),o=s[0],u=s[1],b=Object(n.useRef)(null),O=Object(l.h)(),p=function(A){A.target.files&&A.target.files[0]&&u(A.target.files[0])},m=function(){var A=Object(d.a)(j.a.mark((function A(){var t;return j.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(!o){A.next=5;break}return A.next=3,Y(o);case 3:t=A.sent,O("/edit/"+t.substring(27,100),{replace:!0,state:{image:t}});case 5:e();case 6:case"end":return A.stop()}}),A)})));return function(){return A.apply(this,arguments)}}(),x=function(){var A=Object(d.a)(j.a.mark((function A(){var t;return j.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(!o){A.next=5;break}return A.next=3,Y(o);case 3:t=A.sent,O("/editTemplate/"+t.substring(27,100),{replace:!0,state:{image:t}});case 5:e();case 6:case"end":return A.stop()}}),A)})));return function(){return A.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:["general"===c&&Object(N.jsxs)("div",{className:G.a.dialog,children:[Object(N.jsx)("h1",{children:"\u65b0\u898f\u4f5c\u6210"}),Object(N.jsx)("div",{className:G.a.divider}),Object(N.jsx)("p",{children:"\u4f5c\u6210\u65b9\u6cd5\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002\u65e2\u5b58\u306e\u5bae\u6bbf\u304b\u3089\u4f5c\u6210\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002"}),Object(N.jsxs)("div",{className:G.a.container,children:[Object(N.jsxs)("div",{className:G.a.buttonContainer,children:[Object(N.jsx)("button",{onClick:function(){return i("createPalace")},children:"\u753b\u50cf\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u4f5c\u6210"}),Object(N.jsx)("button",{onClick:function(){return i("createTemplate")},children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210"})]}),Object(N.jsx)("img",{src:"",alt:""})]})]}),"createPalace"===c&&Object(N.jsxs)("div",{className:G.a.dialog,children:[Object(N.jsxs)("h1",{children:[Object(N.jsxs)("span",{onClick:function(){return i("general")},children:["\u65b0\u898f\u4f5c\u6210 ",Object(N.jsx)(W.a,{})," "]}),"\u753b\u50cf\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u4f5c\u6210"]}),Object(N.jsx)("div",{className:G.a.divider}),Object(N.jsx)("p",{children:"\u5bb6\u306e\u9593\u53d6\u308a\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u3042\u306a\u305f\u306e\u5bae\u6bbf\u3092\u4f5c\u6210\u3057\u307e\u3057\u3087\u3046"}),Object(N.jsx)("div",{className:G.a.uploadContainer,children:o?Object(N.jsxs)("div",{className:G.a.imageList,children:[Object(N.jsx)(F.a,{onClick:function(){return u(null)},children:Object(N.jsx)(Z.a,{className:G.a.deleteIcon})}),Object(N.jsx)("img",{src:window.URL.createObjectURL(o),alt:""}),o.name,Object(N.jsx)("button",{className:G.a.createButton,onClick:m,children:"\u4f5c\u6210"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("input",{id:"contained-button-file",type:"file",accept:"image/*",style:{display:"none"},onChange:p,ref:b}),Object(N.jsx)("button",{className:G.a.uploadButton,onClick:function(){var A;return null===(A=b.current)||void 0===A?void 0:A.click()},children:"\u753b\u50cf\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b"})]})})]}),"createTemplate"===c&&Object(N.jsxs)("div",{className:G.a.dialog,children:[Object(N.jsxs)("h1",{children:[Object(N.jsxs)("span",{onClick:function(){return i("general")},children:["\u65b0\u898f\u4f5c\u6210 ",Object(N.jsx)(W.a,{})," "]}),"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210"]}),Object(N.jsx)("div",{className:G.a.divider}),Object(N.jsx)("p",{children:"\u5bb6\u306e\u9593\u53d6\u308a\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u3042\u306a\u305f\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u3087\u3046"}),Object(N.jsx)("div",{className:G.a.uploadContainer,children:o?Object(N.jsxs)("div",{className:G.a.imageList,children:[Object(N.jsx)(F.a,{onClick:function(){return u(null)},children:Object(N.jsx)(Z.a,{className:G.a.deleteIcon})}),Object(N.jsx)("img",{src:window.URL.createObjectURL(o),alt:""}),o.name,Object(N.jsx)("button",{className:G.a.createButton,onClick:x,children:"\u4f5c\u6210"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("input",{id:"contained-button-file",type:"file",accept:"image/*",style:{display:"none"},onChange:p,ref:b}),Object(N.jsx)("button",{className:G.a.uploadButton,onClick:function(){var A;return null===(A=b.current)||void 0===A?void 0:A.click()},children:"\u753b\u50cf\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b"})]})})]})]})},$=function(){var A=a.a.useState(!1),e=Object(h.a)(A,2),t=e[0],n=e[1],c=function(){n(!1)};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("button",{className:q.a.createNewPalaceButton,onClick:function(){n(!0)},children:[Object(N.jsx)("img",{src:U,alt:"",className:q.a.gif}),Object(N.jsx)("img",{src:K,alt:"",className:q.a.img}),"\u5bae\u6bbf\u3092\u4f5c\u6210\u3059\u308b"]}),Object(N.jsx)(P.a,{open:t,onClose:c,maxWidth:!1,children:Object(N.jsx)(X,{onClose:c})})]})},AA=function(){var A=Object(n.useState)(new Array),e=Object(h.a)(A,2),t=e[0],a=e[1],c=t.map((function(A,e){return Object(N.jsx)("li",{children:Object(N.jsx)(L,{num:e,palace:A,deletePalace:i})},A.id)}));S().user;function i(A){a(t.slice(0,A).concat(t.slice(A+1)))}return Object(n.useEffect)((function(){p.a.get("https://hackathon-21-winter-18.trap.show/backend/api/palaces/me",{withCredentials:!0}).then((function(A){A.data&&(a(A.data),console.log(A.data))})).catch((function(A){return console.log(A)}))}),[]),Object(N.jsxs)("div",{className:I.a.home,children:[Object(N.jsx)("h1",{children:"My Palaces"}),Object(N.jsx)("div",{className:I.a.divider}),Object(N.jsxs)("ul",{className:I.a.palaceContainer,children:[Object(N.jsx)($,{}),c]})]})},eA=t(37),tA=t.n(eA),nA=t.p+"static/media/logo.e561e610.svg",aA=function(){var A=Object(n.useState)(""),e=Object(h.a)(A,2),t=e[0],a=e[1],c=Object(n.useState)(""),i=Object(h.a)(c,2),r=i[0],s=i[1],u=S().login,b=Object(l.h)(),O=function(){var A=Object(d.a)(j.a.mark((function A(e){return j.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(e.preventDefault(),""!==t&&""!==r){A.next=3;break}return A.abrupt("return");case 3:return A.next=5,u({name:t,password:r});case 5:a(""),s(""),b("/");case 8:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}();return Object(N.jsx)("div",{className:tA.a.layout,children:Object(N.jsxs)("div",{className:tA.a.login,children:[Object(N.jsx)("img",{src:nA,alt:"palamo logo",className:tA.a.logo}),Object(N.jsx)("h1",{children:"\u30ed\u30b0\u30a4\u30f3"}),Object(N.jsx)("div",{className:tA.a.divider}),Object(N.jsx)("h2",{children:"\u304a\u304b\u3048\u308a\u306a\u3055\u3044\uff01"}),Object(N.jsxs)("form",{className:tA.a.form,children:[Object(N.jsx)("input",{type:"text",name:"name",placeholder:"\u30e6\u30fc\u30b6\u30fc\u540d",onChange:function(A){return a(A.target.value)},required:!0}),Object(N.jsx)("input",{type:"password",name:"password",placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9",onChange:function(A){return s(A.target.value)},required:!0}),Object(N.jsxs)("div",{className:tA.a.buttonContainer,children:[Object(N.jsx)(o.b,{className:tA.a.signupButton,to:"/signup",children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b"}),Object(N.jsx)("button",{className:tA.a.loginButton,onClick:O,type:"submit",disabled:!t||!r,children:"\u30ed\u30b0\u30a4\u30f3"})]})]})]})})},cA=t(18),iA=function(A){var e=A.num,t=A.word,n=A.place,a=A.condition,c=A.flags,i=A.handleClick;return Object(N.jsxs)("div",{children:[c[e]?Object(N.jsx)("span",{children:t}):Object(N.jsxs)("span",{children:[t,"(\u672a)"]}),Object(N.jsx)("button",{onClick:i,children:"\u30dc\u30bf\u30f3"}),Object(N.jsxs)("span",{children:[n,"\u3067",a]})]})},rA=t(117),sA=t.n(rA),oA=function(){var A=Object(n.useState)({id:"",name:"",image:"",embededPins:[{number:0,x:0,y:0,word:"",place:"",do:""}],share:!1}),e=Object(h.a)(A,2),t=e[0],a=e[1],c=Object(n.useState)(Object(cA.a)(Array(t.embededPins.length)).fill(!1)),i=Object(h.a)(c,2),r=i[0],s=i[1],u=Object(l.i)(),j=(S().user,Object(n.useState)(!1)),d=Object(h.a)(j,2),b=d[0],O=d[1],m=Object(l.g)(),x=t.embededPins.map((function(A){return Object(N.jsx)("li",{children:Object(N.jsx)(iA,{num:A.number,word:A.word,place:A.place,condition:A.do,flags:r,handleClick:function(){return s(r.map((function(e,t){return t===A.number?!e:e})))}})},A.number)}));return Object(n.useEffect)((function(){m.state.shared?p.a.get("https://hackathon-21-winter-18.trap.show/backend/api/palaces",{withCredentials:!0}).then((function(A){for(var e=A.data,t=0;t<e.length;t++)e[t].id===u.id&&a(e[t])})):p.a.get("https://hackathon-21-winter-18.trap.show/backend/api/palaces/me",{withCredentials:!0}).then((function(A){for(var e=A.data,t=0;t<e.length;t++)e[t].id===u.id&&a(e[t])}))}),[]),Object(N.jsxs)("div",{children:[Object(N.jsx)("span",{children:"\u6697\u8a18\u753b\u9762"}),Object(N.jsx)("br",{}),t.embededPins.map((function(A){return Object(N.jsx)(sA.a,{style:{position:"absolute",top:A.y+"px",left:A.x+"px",color:r[A.number]?"blue":"red"}},A.number)})),Object(N.jsx)("img",{src:function(){switch(t.image.substring(0,5)){case"iVBOR":return"data:image/png;base64,"+t.image;case"R0IGO":return"data:image/gif;base64,"+t.image;case"/9j/4":return"data:image/jpeg;base64,"+t.image}}(),alt:t.name}),Object(N.jsx)("ol",{children:x}),Object(N.jsx)("br",{}),r.every((function(A){return A}))?Object(N.jsx)("button",{onClick:function(){O(!0)},children:"\u6697\u8a18\u5b8c\u4e86!"}):null,Object(N.jsxs)(P.a,{open:b,onClose:function(){return O(!1)},children:["\u304a\u75b2\u308c\u3055\u307e\u3067\u3057\u305f\u3002",Object(N.jsx)(o.b,{to:"/",children:"\u30db\u30fc\u30e0\u3078\u623b\u308b"})]})]})},lA=t(14),uA=t.n(lA),jA=t(197),dA=t(210),bA=t(206),hA=t(59),OA=t.n(hA),pA=t.p+"static/media/pin.596d94a1.svg",mA=t(118),xA=t.n(mA),fA=function(A){var e=A.open,t=A.putPin,a=Object(n.useState)(""),c=Object(h.a)(a,2),i=c[0],r=c[1],s=Object(n.useState)(""),o=Object(h.a)(s,2),l=o[0],u=o[1],j=Object(n.useState)(""),d=Object(h.a)(j,2),b=d[0],O=d[1];return Object(N.jsx)(jA.a,{in:e,children:Object(N.jsxs)(dA.a,{elevation:1,className:OA.a.card,children:[Object(N.jsxs)("div",{className:OA.a.question,children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("img",{className:OA.a.pinIcon,src:pA,alt:""}),Object(N.jsx)("p",{children:"\u8ab0\u304c\u4f55\u3057\u3066\u308b\uff1f"})]}),Object(N.jsx)(bA.a,{variant:"outlined",className:OA.a.button,onClick:function(){t({word:i,place:l,condition:b})},children:"\u767b\u9332\u3059\u308b"})]}),Object(N.jsxs)("div",{className:OA.a.inputContainer,children:[Object(N.jsx)("input",{type:"text",placeholder:"\u30d1\u30f3\u30c0\ud83d\udc3c",onChange:function(A){return r(A.target.value)},value:i}),"\u304c",Object(N.jsx)("input",{type:"text",placeholder:"\u30ea\u30d3\u30f3\u30b0",onChange:function(A){return u(A.target.value)},value:l}),"\u3067",Object(N.jsx)("input",{type:"text",placeholder:"\u7b39\u98df\u3063\u3066\u308b",onChange:function(A){return O(A.target.value)},value:b}),Object(N.jsx)(F.a,{color:"warning",children:Object(N.jsx)(xA.a,{})})]})]})})};function gA(){var A=Object(n.useState)({x:0,y:0}),e=Object(h.a)(A,2),t=e[0],a=e[1];return Object(n.useEffect)((function(){var A=function(A){var e=A.clientX,t=A.clientY;a({x:e,y:t})};return document.addEventListener("mousemove",A),function(){document.removeEventListener("mousemove",A)}}),[]),t}var vA=t(119),wA=t.n(vA),CA=function(A){var e=A.type,t=A.isHover,n=gA(),a=n.x,c=n.y;return Object(N.jsx)(N.Fragment,{children:"pin"===e&&(void 0===t||!0===t)&&Object(N.jsx)("div",{className:wA.a.pin,style:{left:"".concat(a,"px"),top:"".concat(c,"px")},children:Object(N.jsx)("img",{src:pA,alt:""})})})},NA=t(198),kA=t(196),_A=t(207),yA=t(202);function SA(){var A=Object(n.useState)(!1),e=Object(h.a)(A,2),t=e[0],a=e[1],c=Object(n.useRef)(null),i=function(){return a(!0)},r=function(){return a(!1)};return Object(n.useEffect)((function(){var A=c.current;if(A)return A.addEventListener("mouseover",i),A.addEventListener("mouseout",r),function(){A.removeEventListener("mouseover",i),A.removeEventListener("mouseout",r)}}),[c.current]),[c,t]}var EA=t(95),IA=t.n(EA),MA=t(80),TA=t.n(MA),HA=function(A){var e=A.text,t=A.isVisible,a=Object(n.useState)(!1),c=Object(h.a)(a,2),i=c[0],r=c[1];return t?Object(N.jsx)("span",{className:TA.a.visible,children:e}):Object(N.jsx)("span",{className:i?TA.a.notHide:TA.a.hide,onClick:function(){return r(!i)},children:e})},RA=function(A){var e=A.open,t=A.deletePin,n=A.isVisible,a=void 0===n||n;return Object(N.jsx)(jA.a,{in:!!e,children:Object(N.jsx)(dA.a,{elevation:1,className:IA.a.card,children:Object(N.jsxs)("div",{className:IA.a.inputContainer,children:[Object(N.jsx)(HA,{text:e.word,isVisible:a}),"\u304c",Object(N.jsx)(HA,{text:e.place,isVisible:a}),"\u3067",Object(N.jsx)(HA,{text:e.do,isVisible:a}),a&&Object(N.jsx)(F.a,{onClick:function(){return t(e)},children:Object(N.jsx)(Z.a,{})})]})})})},DA=t(55),zA=t.n(DA),PA=function(A,e,t){p.a.post("https://hackathon-21-winter-18.trap.show/backend/api/templates/me",A,{withCredentials:!0}).then(e).catch(t)},LA=function(){var A=Object(d.a)(j.a.mark((function A(e,t){var n;return j.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,p.a.get("https://hackathon-21-winter-18.trap.show/backend/api/templates/me",{withCredentials:!0});case 2:return n=A.sent,A.abrupt("return",n.data);case 4:case"end":return A.stop()}}),A)})));return function(e,t){return A.apply(this,arguments)}}(),BA=function(A,e,t,n){p.a.put("https://hackathon-21-winter-18.trap.show/backend/api/templates/"+A,e,{withCredentials:!0}).then(t).catch(n)},qA=function(A,e,t,n){p.a.put("https://hackathon-21-winter-18.trap.show/backend/api/templates/share/"+A,e,{withCredentials:!0}).then(t).catch(n)},KA=function(A,e,t){p.a.post("https://hackathon-21-winter-18.trap.show/backend/api/palaces/me",A,{withCredentials:!0}).then(e).catch(t)},UA=function(){var A=Object(d.a)(j.a.mark((function A(e,t){var n;return j.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,p.a.get("https://hackathon-21-winter-18.trap.show/backend/api/palaces/me",{withCredentials:!0});case 2:return n=A.sent,A.abrupt("return",n.data);case 4:case"end":return A.stop()}}),A)})));return function(e,t){return A.apply(this,arguments)}}(),QA=function(){var A=Object(d.a)(j.a.mark((function A(e,t,n,a){var c;return j.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,p.a.put("https://hackathon-21-winter-18.trap.show/backend/api/palaces/share/"+e,t,{withCredentials:!0});case 2:return c=A.sent,A.abrupt("return",c.data);case 4:case"end":return A.stop()}}),A)})));return function(e,t,n,a){return A.apply(this,arguments)}}(),GA=function(A){var e=A.imageUrl,t=A.isPlayground,a=void 0!==t&&t,c=n.useState(!1),i=Object(h.a)(c,2),r=i[0],s=i[1],u=n.useState(null),j=Object(h.a)(u,2),d=j[0],b=j[1],O=n.useState([]),p=Object(h.a)(O,2),m=p[0],x=p[1],f=n.useState("edit"),g=Object(h.a)(f,2),v=g[0],w=g[1],C=(Object(l.i)(),Object(l.g)()),k=n.useState(""),_=Object(h.a)(k,2),y=_[0],E=_[1],I=S().user,M=n.useState(""),T=Object(h.a)(M,2),H=T[0],R=(T[1],n.useState(!1)),D=Object(h.a)(R,2),z=D[0],L=D[1],B=(Object(l.h)(),n.useState(!1)),q=Object(h.a)(B,2),K=q[0],U=q[1],Q=n.useState(!1),G=Object(h.a)(Q,2),J=G[0],W=G[1],V=n.useState(!1),Z=Object(h.a)(V,2),Y=Z[0],X=Z[1],$=n.useState(""),AA=Object(h.a)($,2),eA=(AA[0],AA[1],SA()),tA=Object(h.a)(eA,2),nA=tA[0],aA=tA[1],iA=gA(),rA=iA.x,sA=iA.y,oA=n.useCallback((function(){return{position:"fixed",top:sA,left:rA,transform:"translate(".concat(window.innerWidth/2<rA?"-100%":"0",", -100%)"),p:1,borderRadius:2,transitionDuration:"0.2s"}}),[r,d]),lA=n.useCallback((function(){return{position:"fixed",top:sA,left:rA,transform:"translate(-50%, -100%)"}}),[r]),jA=n.useCallback((function(A){var e={word:A.word,place:A.place,do:A.condition,number:m.length,x:(rA-nA.current.x)/nA.current.width,y:(sA-nA.current.y)/nA.current.height};x([].concat(Object(cA.a)(m),[e])),s(!1)}),[r]),dA=n.useCallback((function(A){b(A)}),[]),bA=n.useCallback((function(A){x(m.filter((function(e){return e!==A}))),b(null)}),[m]);return n.useEffect((function(){x([]),E(""),console.log("a")}),[C]),Object(N.jsxs)("div",{className:uA.a.edit,children:["edit"===v&&Object(N.jsx)(CA,{type:"pin",isHover:aA}),Object(N.jsx)(NA.a,{onClickAway:function(){return b(null)},children:Object(N.jsxs)("div",{children:[m.map((function(A,e){return Object(N.jsx)("img",{className:uA.a.pushedPin,src:pA,alt:"",style:{position:"absolute",top:A.y*nA.current.height+"px",left:A.x*nA.current.width+"px",transform:"translate(-50%, -100%)"},onClick:function(){dA(A)}},e)})),d&&Object(N.jsx)(kA.a,{children:Object(N.jsx)(_A.a,{sx:oA(),children:Object(N.jsx)(RA,{open:d,deletePin:bA,isVisible:"edit"===v})})})]})}),Object(N.jsxs)(F.a,{className:uA.a.togglPinList,onClick:function(){return a&&w("edit"===v?"memorization":"edit")},children:["edit"===v&&Object(N.jsx)(yA.a,{badgeContent:m.length,color:"primary",children:Object(N.jsx)("img",{src:pA,alt:"",className:uA.a.pinIcon})}),"memorization"===v&&Object(N.jsx)(zA.a,{})]}),Object(N.jsx)(NA.a,{onClickAway:function(){s(!1)},children:Object(N.jsxs)("div",{children:[Object(N.jsx)("img",{className:uA.a.layoutImage,src:null!==e&&void 0!==e?e:C.state.image,alt:"map",onClick:function(){return"edit"===v&&s(Math.random())},ref:nA}),r&&Object(N.jsxs)(kA.a,{children:[Object(N.jsx)(_A.a,{sx:oA(),children:Object(N.jsx)(fA,{open:!!r,putPin:jA})}),Object(N.jsx)("img",{src:pA,alt:"",className:uA.a.pinIcon,style:lA()})]})]})}),Object(N.jsxs)("form",{children:[Object(N.jsx)("input",{required:!0,type:"text",value:y,placeholder:"\u5bae\u6bbf\u306e\u540d\u524d",onChange:function(A){return E(A.target.value)}}),Object(N.jsxs)("label",{children:[Object(N.jsx)("input",{type:"checkbox",onClick:function(){return W(!J)}}),"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3057\u3066\u4fdd\u5b58"]}),Object(N.jsxs)("label",{children:[Object(N.jsx)("input",{type:"checkbox",onClick:function(){return U(!K)},id:"sharedCheckBox"}),"\u5bae\u6bbf\u3092\u5171\u6709"]}),Object(N.jsxs)("label",{children:[Object(N.jsx)("input",{type:"checkbox",onClick:function(){return X(!Y)},disabled:!J}),"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3057\u3066\u5171\u6709"]}),Object(N.jsx)("button",{onClick:function(A){if(A.preventDefault(),m.length>0&&!a){var e="";e="data:image/jpeg;base64,"===C.state.image.substr(0,23)?C.state.image.substring(23):C.state.image.substring(22);var t={name:y,image:e,embededPins:m,createdBy:I.id};if(console.log(t),KA(t,(function(A){return K?QA(A.data.id,K):null})),J){for(var n=new Array,c=0;c<n.length;c++)n.push({number:c,x:m[c].x,y:m[c].y});var i={name:y,image:e,pins:m,createdBy:I.id};PA(i,(function(A){return Y?qA(A.data.id,Y):null}))}L(!0)}L(!0)},type:"submit",disabled:m.length<=0||""===y,children:"\u5b8c\u6210!"})]}),Object(N.jsxs)(P.a,{open:z&&!a,children:["\u5bae\u6bbf\u304c\u5b8c\u6210\u3057\u307e\u3057\u305f",Object(N.jsx)(o.b,{to:"/memorize/"+H,children:"\u4eca\u3059\u3050\u899a\u3048\u308b"}),Object(N.jsx)(o.b,{to:"/",children:"\u30db\u30fc\u30e0\u3078\u623b\u308b"})]}),Object(N.jsxs)(P.a,{open:z&&a,children:["\u6b21\u306f\u5b9f\u969b\u306b\u5bae\u6bbf\u3092\u4f5c\u6210\u3057\u3066\u307f\u307e\u3057\u3087\u3046!",Object(N.jsx)("button",{onClick:function(){return L(!1)},children:"OK"})]})]})},JA=function(){var A=n.useState(!1),e=Object(h.a)(A,2),t=e[0],a=e[1],c=n.useState(null),i=Object(h.a)(c,2),r=i[0],s=i[1],u=n.useState([]),j=Object(h.a)(u,2),d=j[0],b=j[1],O=Object(l.i)(),m=Object(l.g)(),x=n.useState(""),f=Object(h.a)(x,2),g=f[0],v=f[1],w=(S().user,SA()),C=Object(h.a)(w,2),k=C[0],_=C[1],y=gA(),E=y.x,I=y.y,M=n.useState(!1),T=Object(h.a)(M,2),H=(T[0],T[1],n.useState(!1)),R=Object(h.a)(H,2),D=R[0],z=R[1],L=n.useState(!1),B=Object(h.a)(L,2),q=B[0],K=B[1],U=n.useState(""),Q=Object(h.a)(U,2),G=Q[0],J=Q[1];n.useEffect((function(){var A=O.id;A&&UA().then((function(e){for(var t=0;t<e.length;t++)e[t].id===A&&(v(e[t].name),b(e[t].embededPins),J(e[t].id))}))}),[]);var W=n.useCallback((function(){return{position:"fixed",top:I,left:E,transform:"translate(".concat(window.innerWidth/2<E?"-100%":"0",", -100%)"),p:1,borderRadius:2,transitionDuration:"0.2s"}}),[t,r]),V=n.useCallback((function(){return{position:"fixed",top:I,left:E,transform:"translate(-50%, -100%)"}}),[t]),Z=n.useCallback((function(A){var e={word:A.word,place:A.place,do:A.condition,number:d.length,x:(E-k.current.x)/k.current.width,y:(I-k.current.y)/k.current.height};b([].concat(Object(cA.a)(d),[e])),a(!1)}),[t]),Y=n.useCallback((function(A){s(A)}),[]),X=n.useCallback((function(A){b(d.filter((function(e){return e!==A}))),s(null)}),[d]);return Object(N.jsxs)("div",{className:uA.a.edit,children:[Object(N.jsx)(CA,{type:"pin",isHover:_}),Object(N.jsx)(NA.a,{onClickAway:function(){return s(null)},children:Object(N.jsxs)("div",{children:[d.map((function(A,e){return Object(N.jsx)("img",{className:uA.a.pushedPin,src:pA,alt:"",style:{position:"absolute",top:A.y*k.current.height+"px",left:A.x*k.current.width+"px",transform:"translate(-50%, -100%)"},onClick:function(){Y(A)}},e)})),r&&Object(N.jsx)(kA.a,{children:Object(N.jsx)(_A.a,{sx:W(),children:Object(N.jsx)(RA,{open:r,deletePin:X})})})]})}),Object(N.jsx)(F.a,{className:uA.a.togglPinList,children:Object(N.jsx)(yA.a,{badgeContent:d.length,color:"primary",children:Object(N.jsx)("img",{src:pA,alt:"",className:uA.a.pinIcon})})}),Object(N.jsx)(NA.a,{onClickAway:function(){a(!1)},children:Object(N.jsxs)("div",{children:[Object(N.jsx)("img",{className:uA.a.layoutImage,src:m.state.image,alt:"mapImage",onClick:function(){return a(Math.random())},ref:k}),t&&Object(N.jsxs)(kA.a,{children:[Object(N.jsx)(_A.a,{sx:W(),children:Object(N.jsx)(fA,{open:!!t,putPin:Z})}),Object(N.jsx)("img",{src:pA,alt:"",className:uA.a.pinIcon,style:V()})]})]})}),Object(N.jsxs)("form",{children:[Object(N.jsx)("input",{required:!0,type:"text",value:g,placeholder:"\u5bae\u6bbf\u306e\u540d\u524d",onChange:function(A){return v(A.target.value)}}),Object(N.jsxs)("label",{children:[Object(N.jsx)("input",{type:"checkbox",onClick:function(){return K(!q)},id:"sharedCheckBox"}),"\u5171\u6709"]}),Object(N.jsx)("button",{onClick:function(A){if(A.preventDefault(),d.length>0){var e="";e="data:image/jpeg;base64,"===m.state.image.substr(0,23)?m.state.image.substring(23):m.state.image.substring(22);var t={name:g,image:e,embededPins:d};console.log(t),O.id&&function(A,e,t,n){p.a.put("https://hackathon-21-winter-18.trap.show/backend/api/palaces/"+A,e,{withCredentials:!0}).then(t).catch(n)}(O.id,t,(function(){return q?QA(G,q):null})),z(!0)}},type:"submit",disabled:d.length<=0||""===g,children:"\u5b8c\u6210!"})]}),Object(N.jsxs)(P.a,{open:D,children:["\u5bae\u6bbf\u304c\u4fee\u6b63\u3055\u308c\u307e\u3057\u305f",Object(N.jsx)(o.b,{to:"/memorize/"+O.id,children:"\u4eca\u3059\u3050\u899a\u3048\u308b"}),Object(N.jsx)(o.b,{to:"/",children:"\u30db\u30fc\u30e0\u3078\u623b\u308b"})]})]})},WA=t(81),VA=t.n(WA),ZA=t(46),FA=t.n(ZA),YA=function(A){var e=A.num,t=A.template,a=A.deleteTemplate,c=Object(n.useState)(!1),i=Object(h.a)(c,2),r=i[0],s=i[1],o=Object(n.useState)(!1),u=Object(h.a)(o,2),j=u[0],d=u[1],b=Object(n.useState)(!1),O=Object(h.a)(b,2),m=O[0],x=O[1],f=Object(n.useState)(t.share),g=Object(h.a)(f,2),v=g[0],w=g[1],C=Object(l.h)();function k(){switch(t.image.substring(0,5)){case"iVBOR":return"data:image/png;base64,"+t.image;case"R0IGO":return"data:image/gif;base64,"+t.image;case"/9j/4":return"data:image/jpeg;base64,"+t.image}}return Object(N.jsxs)("div",{className:FA.a.template,children:[Object(N.jsx)("img",{className:FA.a.image,src:k(),alt:t.name,onClick:function(){return C("/fromTemplate/"+t.id,{state:{image:k(),shared:!0}})}}),Object(N.jsxs)("div",{className:FA.a.titleContainer,children:[Object(N.jsx)("h1",{className:FA.a.title,children:t.name}),Object(N.jsx)("button",{className:FA.a.moreVertIcon,onClick:function(){return s(!0)},children:Object(N.jsx)(R.a,{})})]}),Object(N.jsxs)("div",{className:FA.a.wordTag,children:[Object(N.jsx)(z.a,{className:FA.a.commentIcon}),t.pins.length+" Pins"]}),v?Object(N.jsx)("span",{children:"\u5171\u6709\u6e08"}):Object(N.jsx)("span",{children:"\u672a\u5171\u6709"}),Object(N.jsxs)(P.a,{open:r,onClose:function(){s(!1)},children:[Object(N.jsx)("button",{onClick:function(){return C("/fixTemplate/"+t.id,{state:{image:k()}})},children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u7de8\u96c6"}),Object(N.jsx)("button",{onClick:function(){d(!0)},children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u524a\u9664"}),Object(N.jsxs)(P.a,{open:j,onClose:function(){return d(!1)},children:["\u672c\u5f53\u306b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f",Object(N.jsx)("button",{onClick:function(){p.a.delete("https://hackathon-21-winter-18.trap.show/backend/api/templates/share/"+t.id,{withCredentials:!0}),a(e)},children:"\u306f\u3044"}),Object(N.jsx)("button",{onClick:function(){return d(!1)},children:"\u3044\u3044\u3048"})]}),Object(N.jsx)("button",{onClick:function(){x(!0)},children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u5171\u6709\u8a2d\u5b9a"}),Object(N.jsxs)(P.a,{open:m,onClose:function(){return x(!1)},children:[v?"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u672a\u5171\u6709\u306b\u3057\u307e\u3059\u304b\uff1f":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5171\u6709\u3057\u307e\u3059\u304b\uff1f",Object(N.jsx)("button",{onClick:function(){p.a.put("https://hackathon-21-winter-18.trap.show/backend/api/templates/share/"+t.id,{share:!t.share},{withCredentials:!0}),w(!v),x(!1),s(!1)},children:"\u306f\u3044"}),Object(N.jsx)("button",{onClick:function(){return x(!1)},children:"\u3044\u3044\u3048"})]})]})]})},XA=t(82),$A=t.n(XA),Ae=function(){var A=a.a.useState(!1),e=Object(h.a)(A,2),t=e[0],n=e[1],c=function(){n(!1)};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("button",{className:$A.a.createNewTemplateButton,onClick:function(){n(!0)},children:[Object(N.jsx)("img",{src:U,alt:"",className:$A.a.gif}),Object(N.jsx)("img",{src:K,alt:"",className:$A.a.img}),"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3059\u308b"]}),Object(N.jsx)(P.a,{open:t,onClose:c,maxWidth:!1,children:Object(N.jsx)(X,{onClose:c})})]})},ee=function(){var A=Object(n.useState)(new Array),e=Object(h.a)(A,2),t=e[0],a=e[1],c=(S().user,t.map((function(A,e){return Object(N.jsx)("li",{children:Object(N.jsx)(YA,{num:e,template:A,deleteTemplate:i})},A.id)})));function i(A){a(t.slice(0,A).concat(t.slice(A+1)))}return Object(n.useEffect)((function(){p.a.get("https://hackathon-21-winter-18.trap.show/backend/api/templates/me",{withCredentials:!0}).then((function(A){A.data&&(a(A.data),console.log(A.data))}))}),[]),Object(N.jsxs)("div",{className:VA.a.templatePage,children:[Object(N.jsx)("h1",{children:"My Templates"}),Object(N.jsx)("div",{className:VA.a.divider}),Object(N.jsxs)("ul",{className:VA.a.templateContainer,children:[Object(N.jsx)(Ae,{}),c]})]})},te=function(A){var e=A.imageUrl,t=A.isPlayground,a=void 0!==t&&t,c=n.useState(!1),i=Object(h.a)(c,2),r=i[0],s=i[1],u=n.useState(null),j=Object(h.a)(u,2),d=j[0],b=j[1],O=n.useState([]),p=Object(h.a)(O,2),m=p[0],x=p[1],f=n.useState("edit"),g=Object(h.a)(f,2),v=g[0],w=g[1],C=(Object(l.i)(),Object(l.g)()),k=n.useState(""),_=Object(h.a)(k,2),y=_[0],E=_[1],I=S().user,M=n.useState(""),T=Object(h.a)(M,2),H=(T[0],T[1],n.useState(!1)),R=Object(h.a)(H,2),D=R[0],z=R[1],L=(Object(l.h)(),n.useState(!1)),B=Object(h.a)(L,2),q=(B[0],B[1],n.useState(!1)),K=Object(h.a)(q,2),U=K[0],Q=K[1],G=SA(),J=Object(h.a)(G,2),W=J[0],V=J[1],Z=gA(),Y=Z.x,X=Z.y,$=(n.useCallback((function(){return{position:"fixed",top:X,left:Y,transform:"translate(".concat(window.innerWidth/2<Y?"-100%":"0",", -100%)"),p:1,borderRadius:2,transitionDuration:"0.2s"}}),[r,d]),n.useCallback((function(){return{position:"fixed",top:X,left:Y,transform:"translate(-50%, -100%)"}}),[r]),n.useCallback((function(){var A={number:m.length,x:(Y-W.current.x)/W.current.width,y:(X-W.current.y)/W.current.height};x([].concat(Object(cA.a)(m),[A])),s(!1)}),[r])),AA=n.useCallback((function(A){b(A)}),[]);n.useCallback((function(A){x(m.filter((function(e){return e!==A}))),b(null)}),[m]);return n.useEffect((function(){x([]),E(""),console.log("a")}),[C]),Object(N.jsxs)("div",{className:uA.a.edit,children:["edit"===v&&Object(N.jsx)(CA,{type:"pin",isHover:V}),Object(N.jsx)(NA.a,{onClickAway:function(){return b(null)},children:Object(N.jsx)("div",{children:m.map((function(A,e){return Object(N.jsx)("img",{className:uA.a.pushedPin,src:pA,alt:"",style:{position:"absolute",top:A.y*W.current.height+"px",left:A.x*W.current.width+"px",transform:"translate(-50%, -100%)"},onClick:function(){AA(A)}},e)}))})}),Object(N.jsxs)(F.a,{className:uA.a.togglPinList,onClick:function(){return a&&w("edit"===v?"memorization":"edit")},children:["edit"===v&&Object(N.jsx)(yA.a,{badgeContent:m.length,color:"primary",children:Object(N.jsx)("img",{src:pA,alt:"",className:uA.a.pinIcon})}),"memorization"===v&&Object(N.jsx)(zA.a,{})]}),Object(N.jsx)(NA.a,{onClickAway:function(){s(!1)},children:Object(N.jsxs)("div",{children:[Object(N.jsx)("img",{className:uA.a.layoutImage,src:null!==e&&void 0!==e?e:C.state.image,alt:"map",onClick:function(){return"edit"===v&&s(Math.random())},ref:W}),r&&$()]})}),Object(N.jsxs)("form",{children:[Object(N.jsx)("input",{required:!0,type:"text",value:y,placeholder:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u540d\u524d",onChange:function(A){return E(A.target.value)}}),Object(N.jsxs)("label",{children:[Object(N.jsx)("input",{type:"checkbox",onClick:function(){return Q(!U)},id:"sharedCheckBox"}),"\u5171\u6709"]}),Object(N.jsx)("button",{onClick:function(A){if(A.preventDefault(),m.length>0){var e="";e="data:image/jpeg;base64,"===C.state.image.substr(0,23)?C.state.image.substring(23):C.state.image.substring(22);for(var t=new Array,n=0;n<t.length;n++)t.push({number:n,x:m[n].x,y:m[n].y});var a={name:y,image:e,pins:m,createdBy:I.id};PA(a,(function(A){return U?qA(A.data.id,U):null}))}z(!0)},type:"submit",disabled:m.length<=0||""===y,children:"\u5b8c\u6210!"})]}),Object(N.jsxs)(P.a,{open:D,children:["\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u5b8c\u6210\u3057\u307e\u3057\u305f",Object(N.jsx)(o.b,{to:"/",children:"\u30db\u30fc\u30e0\u3078\u623b\u308b"})]})]})},ne=function(){return Object(N.jsx)("div",{children:Object(N.jsx)("span",{children:"NotFound"})})},ae=t(96),ce=t.n(ae),ie=t(120),re=t.n(ie),se=t(121),oe=t.n(se);function le(){var A=n.useState(!1),e=Object(h.a)(A,2),t=e[0],a=e[1],c=function(){a(!1)};return Object(N.jsxs)("span",{children:[Object(N.jsx)(bA.a,{className:re.a.button,onClick:function(){a(!0)},variant:"contained",startIcon:Object(N.jsx)(oe.a,{}),children:"\u65b0\u898f\u753b\u50cf\u304b\u3089"}),Object(N.jsx)(P.a,{open:t,onClose:c,maxWidth:!1,children:Object(N.jsx)(X,{onClose:c})})]})}var ue=function(){var A=S().user,e=Object(l.h)();return Object(N.jsx)(N.Fragment,{children:A.auth&&Object(N.jsxs)("div",{className:ce.a.header,children:[Object(N.jsx)("img",{className:ce.a.logo,src:nA,alt:"logo",onClick:function(){return e("/")}}),Object(N.jsx)(le,{})]})})},je=function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ue,{}),Object(N.jsx)(l.b,{})]})},de=function(){return S().user.auth?Object(N.jsx)(l.b,{}):Object(N.jsx)(l.a,{to:"/login"})},be=t(38),he=t.n(be),Oe=function(){var A=Object(n.useState)(""),e=Object(h.a)(A,2),t=e[0],a=e[1],c=Object(n.useState)(""),i=Object(h.a)(c,2),r=i[0],s=i[1],u=Object(n.useState)(""),b=Object(h.a)(u,2),O=b[0],p=b[1],m=S().signup,x=Object(l.h)(),f=function(){var A=Object(d.a)(j.a.mark((function A(e){return j.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(e.preventDefault(),""!==t&&""!==r){A.next=3;break}return A.abrupt("return");case 3:return A.next=5,m({name:t,password:r});case 5:a(""),s(""),x("/");case 8:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}();return Object(N.jsx)("div",{className:he.a.signupLayout,children:Object(N.jsxs)("div",{className:he.a.signup,children:[Object(N.jsx)("img",{src:nA,alt:"palamo logo",className:he.a.logo}),Object(N.jsx)("h1",{children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332"}),Object(N.jsx)("div",{className:he.a.divider}),Object(N.jsxs)("h2",{children:[Object(N.jsx)("span",{children:"Palamo"}),"\u3078\u3088\u3046\u3053\u305d\u3002"]}),Object(N.jsxs)("form",{className:he.a.form,children:[Object(N.jsx)("input",{type:"text",name:"name",placeholder:"\u30e6\u30fc\u30b6\u30fc\u540d",value:t,onChange:function(A){return a(A.target.value)},required:!0}),Object(N.jsx)("input",{type:"password",name:"password",placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9",value:r,onChange:function(A){return s(A.target.value)},required:!0}),Object(N.jsx)("input",{type:"password",name:"password",placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9(\u78ba\u8a8d)",value:O,onChange:function(A){return p(A.target.value)},required:!0}),Object(N.jsxs)("div",{className:he.a.buttonContainer,children:[Object(N.jsx)(o.b,{className:he.a.loginButton,to:"/login",children:"\u30ed\u30b0\u30a4\u30f3\u3059\u308b"}),Object(N.jsx)("button",{className:he.a.registerButton,onClick:f,type:"submit",disabled:!t||!r||!O||r!==O,children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332"})]})]})]})})},pe=function(A){var e=A.imageUrl,t=A.isPlayground,a=void 0!==t&&t,c=n.useState(!1),i=Object(h.a)(c,2),r=i[0],s=i[1],u=n.useState(null),j=Object(h.a)(u,2),d=j[0],b=j[1],O=n.useState([]),p=Object(h.a)(O,2),m=p[0],x=p[1],f=n.useState("edit"),g=Object(h.a)(f,2),v=g[0],w=g[1],C=(Object(l.i)(),Object(l.g)()),k=n.useState(""),_=Object(h.a)(k,2),y=_[0],E=_[1],I=n.useState(!1),M=Object(h.a)(I,2),T=M[0],H=M[1],R=n.useState(""),D=Object(h.a)(R,2),z=(D[0],D[1]),L=S().user,B=n.useState(!1),q=Object(h.a)(B,2),K=(q[0],q[1],n.useState("")),U=Object(h.a)(K,2),Q=(U[0],U[1],n.useState(!1)),G=Object(h.a)(Q,2),J=G[0],W=G[1],V=(Object(l.h)(),Object(l.i)()),Z=n.useState(""),Y=Object(h.a)(Z,2),X=Y[0],$=(Y[1],SA()),AA=Object(h.a)($,2),eA=AA[0],tA=AA[1],nA=gA(),aA=nA.x,iA=nA.y;n.useEffect((function(){var A=V.id;A&&LA().then((function(e){for(var t=0;t<e.length;t++)e[t].id===A&&(z(e[t].name),x(e[t].pins))}))}),[]);var rA=n.useCallback((function(){return{position:"fixed",top:iA,left:aA,transform:"translate(".concat(window.innerWidth/2<aA?"-100%":"0",", -100%)"),p:1,borderRadius:2,transitionDuration:"0.2s"}}),[r,d]),sA=n.useCallback((function(){return{position:"fixed",top:iA,left:aA,transform:"translate(-50%, -100%)"}}),[r]),oA=n.useCallback((function(A){var e={word:A.word,place:A.place,do:A.condition,number:m.length,x:(aA-eA.current.x)/eA.current.width,y:(iA-eA.current.y)/eA.current.height};x([].concat(Object(cA.a)(m),[e])),s(!1)}),[r]),lA=n.useCallback((function(A){b(A)}),[]),jA=n.useCallback((function(A){x(m.filter((function(e){return e!==A}))),b(null)}),[m]);return Object(N.jsxs)("div",{className:uA.a.edit,children:["edit"===v&&Object(N.jsx)(CA,{type:"pin",isHover:tA}),Object(N.jsx)(NA.a,{onClickAway:function(){return b(null)},children:Object(N.jsxs)("div",{children:[m.map((function(A,e){return Object(N.jsx)("img",{className:uA.a.pushedPin,src:pA,alt:"",style:{position:"absolute",top:A.y*eA.current.height+"px",left:A.x*eA.current.width+"px",transform:"translate(-50%, -100%)"},onClick:function(){lA(A)}},e)})),d&&Object(N.jsx)(kA.a,{children:Object(N.jsx)(_A.a,{sx:rA(),children:Object(N.jsx)(RA,{open:d,deletePin:jA,isVisible:"edit"===v})})})]})}),Object(N.jsxs)(F.a,{className:uA.a.togglPinList,onClick:function(){return a&&w("edit"===v?"memorization":"edit")},children:["edit"===v&&Object(N.jsx)(yA.a,{badgeContent:m.length,color:"primary",children:Object(N.jsx)("img",{src:pA,alt:"",className:uA.a.pinIcon})}),"memorization"===v&&Object(N.jsx)(zA.a,{})]}),Object(N.jsx)(NA.a,{onClickAway:function(){s(!1)},children:Object(N.jsxs)("div",{children:[Object(N.jsx)("img",{className:uA.a.layoutImage,src:null!==e&&void 0!==e?e:C.state.image,alt:"map",onClick:function(){return"edit"===v&&s(Math.random())},ref:eA}),r&&Object(N.jsxs)(kA.a,{children:[Object(N.jsx)(_A.a,{sx:rA(),children:Object(N.jsx)(fA,{open:!!r,putPin:oA})}),Object(N.jsx)("img",{src:pA,alt:"",className:uA.a.pinIcon,style:sA()})]})]})}),Object(N.jsxs)("form",{children:[Object(N.jsx)("input",{required:!0,type:"text",value:y,placeholder:"\u5bae\u6bbf\u306e\u540d\u524d",onChange:function(A){return E(A.target.value)}}),Object(N.jsxs)("label",{children:[Object(N.jsx)("input",{type:"checkbox",onClick:function(){return H(!T)},id:"sharedCheckBox"}),"\u5bae\u6bbf\u3092\u5171\u6709"]}),Object(N.jsx)("button",{onClick:function(A){var e;(A.preventDefault(),m.length>0)&&(e="data:image/jpeg;base64,"===C.state.image.substr(0,23)?{name:y,image:C.state.image.substr(23),pins:m,createdBy:L.id}:{name:y,image:C.state.image.substr(22),pins:m,createdBy:L.id},console.log(e),KA(e,(function(A){return T?QA(A.data.id,T):null})),W(!0))},type:"submit",disabled:m.length<=0||""===y,children:"\u5b8c\u6210!"})]}),Object(N.jsxs)(P.a,{open:J,children:["\u5bae\u6bbf\u304c\u5b8c\u6210\u3057\u307e\u3057\u305f",Object(N.jsx)(o.b,{to:"/memorize/"+X,children:"\u4eca\u3059\u3050\u899a\u3048\u308b"}),Object(N.jsx)(o.b,{to:"/",children:"\u30db\u30fc\u30e0\u3078\u623b\u308b"})]})]})},me=function(){var A=n.useState(!1),e=Object(h.a)(A,2),t=e[0],a=e[1],c=n.useState(null),i=Object(h.a)(c,2),r=i[0],s=i[1],u=n.useState([]),j=Object(h.a)(u,2),d=j[0],b=j[1],O=Object(l.i)(),p=Object(l.g)(),m=n.useState(""),x=Object(h.a)(m,2),f=x[0],g=x[1],v=(S().user,SA()),w=Object(h.a)(v,2),C=w[0],k=w[1],_=gA(),y=_.x,E=_.y,I=n.useState(!1),M=Object(h.a)(I,2),T=(M[0],M[1],n.useState(!1)),H=Object(h.a)(T,2),R=H[0],D=H[1],z=n.useState(!1),L=Object(h.a)(z,2),B=L[0],q=L[1],K=n.useState(""),U=Object(h.a)(K,2),Q=U[0],G=U[1];n.useEffect((function(){var A=O.id;A&&LA().then((function(e){for(var t=0;t<e.length;t++)e[t].id===A&&(g(e[t].name),b(e[t].pins),G(e[t].id))}))}),[]);n.useCallback((function(){return{position:"fixed",top:E,left:y,transform:"translate(".concat(window.innerWidth/2<y?"-100%":"0",", -100%)"),p:1,borderRadius:2,transitionDuration:"0.2s"}}),[t,r]),n.useCallback((function(){return{position:"fixed",top:E,left:y,transform:"translate(-50%, -100%)"}}),[t]);var J=n.useCallback((function(){var A={number:d.length,x:(y-C.current.x)/C.current.width,y:(E-C.current.y)/C.current.height};b([].concat(Object(cA.a)(d),[A])),a(!1)}),[t]),W=n.useCallback((function(A){s(A)}),[]);n.useCallback((function(A){b(d.filter((function(e){return e!==A}))),s(null)}),[d]);return Object(N.jsxs)("div",{className:uA.a.edit,children:[Object(N.jsx)(CA,{type:"pin",isHover:k}),Object(N.jsx)(NA.a,{onClickAway:function(){return s(null)},children:Object(N.jsx)("div",{children:d.map((function(A,e){return Object(N.jsx)("img",{className:uA.a.pushedPin,src:pA,alt:"",style:{position:"absolute",top:A.y*C.current.height+"px",left:A.x*C.current.width+"px",transform:"translate(-50%, -100%)"},onClick:function(){W(A)}},e)}))})}),Object(N.jsx)(F.a,{className:uA.a.togglPinList,children:Object(N.jsx)(yA.a,{badgeContent:d.length,color:"primary",children:Object(N.jsx)("img",{src:pA,alt:"",className:uA.a.pinIcon})})}),Object(N.jsx)(NA.a,{onClickAway:function(){a(!1)},children:Object(N.jsxs)("div",{children:[Object(N.jsx)("img",{className:uA.a.layoutImage,src:p.state.image,alt:"map",onClick:function(){return a(Math.random())},ref:C}),t&&J()]})}),Object(N.jsxs)("form",{children:[Object(N.jsx)("input",{required:!0,type:"text",value:f,placeholder:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u540d\u524d",onChange:function(A){return g(A.target.value)}}),Object(N.jsxs)("label",{children:[Object(N.jsx)("input",{type:"checkbox",onClick:function(){return q(!B)},id:"sharedCheckBox"}),"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5171\u6709"]}),Object(N.jsx)("button",{onClick:function(A){if(A.preventDefault(),d.length>0){var e="";e="data:image/jpeg;base64,"===p.state.image.substr(0,23)?p.state.image.substring(23):p.state.image.substring(22);var t={name:f,image:e,embededPins:d};console.log(t),O.id&&BA(O.id,t),B&&BA(Q,B,(function(){return qA(Q,B)})),D(!0)}},type:"submit",disabled:d.length<=0||""===f,children:"\u5b8c\u6210!"})]}),Object(N.jsxs)(P.a,{open:R,children:["\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u4fee\u6b63\u3055\u308c\u307e\u3057\u305f",Object(N.jsx)(o.b,{to:"/",children:"\u30db\u30fc\u30e0\u3078\u623b\u308b"})]})]})},xe=t(83),fe=t.n(xe),ge=t(47),ve=t.n(ge),we=function(A){var e=A.palace,t=Object(n.useState)(!1),a=Object(h.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(!1),s=Object(h.a)(r,2),o=s[0],u=s[1],j=Object(l.h)(),d=Object(n.useContext)(_).user;return Object(N.jsxs)("div",{className:ve.a.sharedPalace,children:[Object(N.jsx)("img",{className:ve.a.image,src:function(){switch(e.image.substring(0,5)){case"iVBOR":return"data:image/png;base64,"+e.image;case"R0IGO":return"data:image/gif;base64,"+e.image;case"/9j/4":return"data:image/jpeg;base64,"+e.image}}(),alt:e.name,onClick:function(){return j("/memorize/"+e.id,{state:{shared:!0}})}}),Object(N.jsxs)("div",{className:ve.a.titleContainer,children:[Object(N.jsx)("h1",{className:ve.a.title,children:e.name}),Object(N.jsx)("button",{className:ve.a.moreVertIcon,onClick:function(){return i(!0)},children:Object(N.jsx)(R.a,{})})]}),Object(N.jsxs)("div",{className:ve.a.wordTag,children:[Object(N.jsx)(z.a,{className:ve.a.commentIcon}),e.embededPins.length+" Words"]}),Object(N.jsx)("div",{children:Object(N.jsxs)("span",{children:[e.savedCount,"\u56de\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f"]})}),Object(N.jsx)("div",{children:Object(N.jsxs)("span",{children:["Creater:",e.createrName]})}),Object(N.jsxs)(P.a,{open:c,onClose:function(){i(!1)},children:[Object(N.jsx)("button",{onClick:function(){u(!0)},children:"\u5bae\u6bbf\u306e\u4fdd\u5b58"}),Object(N.jsxs)(P.a,{open:o,onClose:function(){return u(!1)},children:["\u672c\u5f53\u306b\u5bae\u6bbf\u3092\u4fdd\u5b58\u3057\u307e\u3059\u304b\uff1f",Object(N.jsx)("button",{onClick:function(){var A={id:e.id,name:e.name,image:e.image,embededPins:e.embededPins,createdBy:d.id};p.a.post("https://hackathon-21-winter-18.trap.show/backend/api/palaces/me",A,{withCredentials:!0}),i(!1)},children:"\u306f\u3044"}),Object(N.jsx)("button",{onClick:function(){return i(!1)},children:"\u3044\u3044\u3048"})]})]})]})},Ce=function(){var A=Object(n.useState)(new Array),e=Object(h.a)(A,2),t=e[0],a=e[1],c=(Object(n.useContext)(_).user,t.map((function(A,e){return Object(N.jsx)("li",{children:Object(N.jsx)(we,{palace:A})},A.id)})));return Object(n.useEffect)((function(){p.a.get("https://hackathon-21-winter-18.trap.show/backend/api/palaces",{withCredentials:!0}).then((function(A){A.data&&(a(A.data),console.log(A.data))})).catch((function(A){return console.log(A)}))}),[]),Object(N.jsxs)("div",{className:fe.a.sharedPalaces,children:[Object(N.jsx)("h1",{children:"Shared Palaces"}),Object(N.jsx)("div",{className:fe.a.divider}),Object(N.jsx)("ul",{className:fe.a.palaceContainer,children:c})]})},Ne=t(84),ke=t.n(Ne),_e=t(48),ye=t.n(_e),Se=function(A){var e=A.template,t=Object(n.useState)(!1),a=Object(h.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(!1),s=Object(h.a)(r,2),o=s[0],u=s[1],j=Object(n.useContext)(_).user,d=Object(l.h)();function b(){switch(e.image.substring(0,5)){case"iVBOR":return"data:image/png;base64,"+e.image;case"R0IGO":return"data:image/gif;base64,"+e.image;case"/9j/4":return"data:image/jpeg;base64,"+e.image}}return Object(N.jsxs)("div",{className:ye.a.sharedTemplate,children:[Object(N.jsx)("img",{className:ye.a.image,src:b(),alt:e.name,onClick:function(){return d("/fromTemplate/"+e.id,{state:{image:b(),shared:!0}})}}),Object(N.jsxs)("div",{className:ye.a.titleContainer,children:[Object(N.jsx)("h1",{className:ye.a.title,children:e.name}),Object(N.jsx)("button",{className:ye.a.moreVertIcon,onClick:function(){return i(!0)},children:Object(N.jsx)(R.a,{})})]}),Object(N.jsxs)("div",{className:ye.a.wordTag,children:[Object(N.jsx)(z.a,{className:ye.a.commentIcon}),e.pins.length+" pins"]}),Object(N.jsx)("div",{children:Object(N.jsxs)("span",{children:[e.savedCount,"\u56de\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f"]})}),Object(N.jsx)("div",{children:Object(N.jsxs)("span",{children:["Creater:",e.createrName]})}),Object(N.jsxs)(P.a,{open:c,onClose:function(){i(!1)},children:[Object(N.jsx)("button",{onClick:function(){u(!0)},children:"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4fdd\u5b58"}),Object(N.jsxs)(P.a,{open:o,onClose:function(){return u(!1)},children:["\u672c\u5f53\u306b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4fdd\u5b58\u3057\u307e\u3059\u304b\uff1f",Object(N.jsx)("button",{onClick:function(){var A={id:e.id,name:e.name,image:e.image,pins:e.pins,createdBy:j.id};p.a.post("https://hackathon-21-winter-18.trap.show/backend/api/templates/me",A,{withCredentials:!0}),i(!1)},children:"\u306f\u3044"}),Object(N.jsx)("button",{onClick:function(){return i(!1)},children:"\u3044\u3044\u3048"})]})]})]})},Ee=function(){var A=Object(n.useState)(new Array),e=Object(h.a)(A,2),t=e[0],a=e[1],c=(Object(n.useContext)(_).user,t.map((function(A,e){return Object(N.jsx)("li",{children:Object(N.jsx)(Se,{template:A})},A.id)})));return Object(n.useEffect)((function(){p.a.get("https://hackathon-21-winter-18.trap.show/backend/api/templates",{withCredentials:!0}).then((function(A){A.data&&(a(A.data),console.log(A.data))})).catch((function(A){return console.log(A)}))}),[]),Object(N.jsxs)("div",{className:ke.a.sharedTemplates,children:[Object(N.jsx)("h1",{children:"My Templates"}),Object(N.jsx)("div",{className:ke.a.divider}),Object(N.jsx)("ul",{className:ke.a.templateContainer,children:c})]})},Ie=t(122),Me=t.n(Ie),Te=t(23),He=t.n(Te),Re=t(123),De=t.n(Re),ze=t(124),Pe=t.n(ze),Le=t(126),Be=t.n(Le),qe=t(127),Ke=t.n(qe),Ue=t(125),Qe=t.n(Ue),Ge=t(200),Je=function(){var A=Object(l.g)().pathname,e=Object(n.useState)(null),t=Object(h.a)(e,2),a=t[0],c=t[1],i=Boolean(a),r=S(),s=r.user,u=r.logout,j=function(){c(null)};return Object(N.jsxs)("div",{className:He.a.sidebar,children:[Object(N.jsxs)(o.b,{to:"/",className:"/"===A?He.a.buttonHere:He.a.buttonNotHere,children:[Object(N.jsx)(De.a,{className:He.a.buttonIcon}),"My Palace"]}),Object(N.jsxs)(o.b,{to:"/template",className:"/template"===A?He.a.buttonHere:He.a.buttonNotHere,children:[Object(N.jsx)(Pe.a,{className:He.a.buttonIcon}),"My Template"]}),Object(N.jsx)(o.b,{to:"/sharedPalaces",children:"SharedPalace"}),Object(N.jsx)(o.b,{to:"/sharedTemplates",children:"SharedTemplates"}),Object(N.jsxs)(o.b,{to:"/playground",className:"/playground"===A?He.a.buttonHere:He.a.buttonNotHere,children:[Object(N.jsx)(Qe.a,{className:He.a.buttonIcon,style:{color:"#2C9212"}}),"Playground"]}),Object(N.jsxs)("button",{className:He.a.userSetting,onClick:function(A){c(A.currentTarget)},children:[Object(N.jsx)(Be.a,{className:He.a.userIcon}),s.name,Object(N.jsx)(R.a,{className:He.a.lastIcon})]}),Object(N.jsx)(Ge.a,{anchorEl:a,open:i,onClose:j,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"},elevation:3,className:He.a.menu,children:Object(N.jsxs)("div",{className:He.a.card,children:[Object(N.jsxs)("p",{children:[s.name,"\u3067\u30ed\u30b0\u30a4\u30f3\u4e2d"]}),Object(N.jsxs)("button",{className:He.a.logout,onClick:function(){j(),u()},children:[Object(N.jsx)(Ke.a,{}),"\u30ed\u30b0\u30a2\u30a6\u30c8"]})]})})]})},We=function(){return Object(N.jsxs)("div",{className:Me.a.sideLayout,children:[Object(N.jsx)(Je,{}),Object(N.jsx)(l.b,{})]})},Ve=t(97),Ze=t.n(Ve),Fe=function(){return Object(N.jsxs)("div",{className:Ze.a.playground,children:[Object(N.jsx)("h1",{children:"Playground"}),Object(N.jsx)("div",{className:Ze.a.divider}),Object(N.jsx)(GA,{imageUrl:"https://www.juken-net.com/main/wp-content/uploads/2017/07/mizu.png",isPlayground:!0})]})};var Ye=function(){return Object(N.jsx)("div",{className:s.a.app,children:Object(N.jsx)(y,{children:Object(N.jsx)(o.a,{children:Object(N.jsxs)(l.e,{children:[Object(N.jsx)(l.c,{path:"/login",element:Object(N.jsx)(aA,{})}),Object(N.jsx)(l.c,{path:"/signup",element:Object(N.jsx)(Oe,{})}),Object(N.jsx)(l.c,{element:Object(N.jsx)(de,{}),children:Object(N.jsxs)(l.c,{element:Object(N.jsx)(je,{}),children:[Object(N.jsxs)(l.c,{element:Object(N.jsx)(We,{}),children:[Object(N.jsx)(l.c,{path:"/",element:Object(N.jsx)(AA,{})}),Object(N.jsx)(l.c,{path:"/frontend",element:Object(N.jsx)(AA,{})}),Object(N.jsx)(l.c,{path:"/frontend/",element:Object(N.jsx)(AA,{})}),Object(N.jsx)(l.c,{path:"/template",element:Object(N.jsx)(ee,{})}),Object(N.jsx)(l.c,{path:"/sharedPalaces",element:Object(N.jsx)(Ce,{})}),Object(N.jsx)(l.c,{path:"/sharedTemplates",element:Object(N.jsx)(Ee,{})}),Object(N.jsx)(l.c,{path:"/playground",element:Object(N.jsx)(Fe,{})})]}),Object(N.jsx)(l.c,{path:"/memorize/:id",element:Object(N.jsx)(oA,{})}),Object(N.jsx)(l.c,{path:"/edit/:base64/*",element:Object(N.jsx)(GA,{})}),Object(N.jsx)(l.c,{path:"/fix/:id",element:Object(N.jsx)(JA,{})}),Object(N.jsx)(l.c,{path:"/fixTemplate/:id",element:Object(N.jsx)(me,{})}),Object(N.jsx)(l.c,{path:"/template",element:Object(N.jsx)(ee,{})}),Object(N.jsx)(l.c,{path:"/editTemplate/:base64/*",element:Object(N.jsx)(te,{})}),Object(N.jsx)(l.c,{path:"/fromTemplate/:id",element:Object(N.jsx)(pe,{})}),Object(N.jsx)(l.c,{path:"/*",element:Object(N.jsx)(ne,{})})]})})]})})})})},Xe=function(A){A&&A instanceof Function&&t.e(3).then(t.bind(null,211)).then((function(e){var t=e.getCLS,n=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;t(A),n(A),a(A),c(A),i(A)}))};i.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(Ye,{})}),document.getElementById("root")),Xe()},21:function(A,e,t){A.exports={dialog:"NewCreationDialog_dialog__34as9",divider:"NewCreationDialog_divider__2_Y1J",container:"NewCreationDialog_container__83gnt",buttonContainer:"NewCreationDialog_buttonContainer__1W-1u",uploadContainer:"NewCreationDialog_uploadContainer__hqzBP",uploadButton:"NewCreationDialog_uploadButton__3a5RF",imageList:"NewCreationDialog_imageList__381gi",createButton:"NewCreationDialog_createButton__1RYjz"}},23:function(A,e,t){A.exports={sidebar:"Sidebar_sidebar__2go77",buttonHere:"Sidebar_buttonHere__qCtGm",buttonNotHere:"Sidebar_buttonNotHere__3YlZb",buttonIcon:"Sidebar_buttonIcon__31sFc",userSetting:"Sidebar_userSetting__KPNQV",lastIcon:"Sidebar_lastIcon__TUAmS",userIcon:"Sidebar_userIcon__3Hydc",card:"Sidebar_card__2ntt4",logout:"Sidebar_logout__2D5Wi"}},37:function(A,e,t){A.exports={layout:"Login_layout__Cp9YZ",lauout:"Login_lauout__2iCqr",login:"Login_login__gFgMw",logo:"Login_logo__14_i4",divider:"Login_divider__2RMkP",buttonContainer:"Login_buttonContainer__1C9Mh",loginButton:"Login_loginButton__ROZ4E",signupButton:"Login_signupButton__7o7UH"}},38:function(A,e,t){A.exports={signupLayout:"SignUp_signupLayout__MrNDJ",logo:"SignUp_logo__AWpjO",signup:"SignUp_signup__3_N1N",divider:"SignUp_divider__GDUYs",buttonContainer:"SignUp_buttonContainer__1FP70",registerButton:"SignUp_registerButton__2XepL",loginButton:"SignUp_loginButton__11nlU"}},45:function(A,e,t){A.exports={palace:"Palace_palace__36m-V",image:"Palace_image__3kfuc",titleContainer:"Palace_titleContainer__2ki0e",title:"Palace_title__3qfZb",moreVertIcon:"Palace_moreVertIcon__vkdVg",wordTag:"Palace_wordTag__2g-Yk",commentIcon:"Palace_commentIcon__35nv9"}},46:function(A,e,t){A.exports={template:"Template_template__2463N",image:"Template_image__i7KDC",titleContainer:"Template_titleContainer__31uE6",title:"Template_title__2uL_9",moreVertIcon:"Template_moreVertIcon__13SSe",wordTag:"Template_wordTag__3hgen",commentIcon:"Template_commentIcon__2t-VD"}},47:function(A,e,t){A.exports={sharedPalace:"SharedPalace_sharedPalace__3uHoa",image:"SharedPalace_image__1mmkg",titleContainer:"SharedPalace_titleContainer__LcU2G",title:"SharedPalace_title__3Czqd",moreVertIcon:"SharedPalace_moreVertIcon__3GbUY",wordTag:"SharedPalace_wordTag__1ZzSP",commentIcon:"SharedPalace_commentIcon__3jR63"}},48:function(A,e,t){A.exports={sharedTemplate:"SharedTemplate_sharedTemplate__3aYKf",image:"SharedTemplate_image__2iG-7",titleContainer:"SharedTemplate_titleContainer__2sp2V",title:"SharedTemplate_title__1OL5O",moreVertIcon:"SharedTemplate_moreVertIcon__3kWfE",wordTag:"SharedTemplate_wordTag__2pY36",commentIcon:"SharedTemplate_commentIcon__27fh9"}},59:function(A,e,t){A.exports={card:"AddNewWordDialog_card__38Mz_",question:"AddNewWordDialog_question__3fcZK",pinIcon:"AddNewWordDialog_pinIcon__1Sd6a",inputContainer:"AddNewWordDialog_inputContainer__M1XnX",button:"AddNewWordDialog_button__EzerU"}},77:function(A,e,t){A.exports={home:"Home_home__r4ELY",divider:"Home_divider__HwgIu",palaceContainer:"Home_palaceContainer__V0x-p"}},79:function(A,e,t){A.exports={createNewPalaceButton:"CreateNewPalaceButton_createNewPalaceButton__rGleM",img:"CreateNewPalaceButton_img__3Ewkp",gif:"CreateNewPalaceButton_gif__2IgID"}},80:function(A,e,t){A.exports={visible:"HidableWord_visible__fHycr",notHide:"HidableWord_notHide__1UGDw",hide:"HidableWord_hide__1EQ6j"}},81:function(A,e,t){A.exports={template:"TemplatePage_template__2jRw0",divider:"TemplatePage_divider__18kBy",templateContainer:"TemplatePage_templateContainer__2efu7"}},82:function(A,e,t){A.exports={createNewTemplateButton:"CreateNewTemplateButton_createNewTemplateButton__2Hcbz",img:"CreateNewTemplateButton_img__8bfha",gif:"CreateNewTemplateButton_gif__20Qzi"}},83:function(A,e,t){A.exports={sharedPalaces:"SharedPalaces_sharedPalaces__3cdol",divider:"SharedPalaces_divider__1Kpr0",palaceContainer:"SharedPalaces_palaceContainer__33RL_"}},84:function(A,e,t){A.exports={sharedTemplates:"SharedTemplates_sharedTemplates__1Maa1",divider:"SharedTemplates_divider__12AeQ",templateContainer:"SharedTemplates_templateContainer__30CcE"}},93:function(A,e,t){A.exports={loading:"Loading_loading__3zWue",loadingText:"Loading_loadingText__3W2hG"}},95:function(A,e,t){A.exports={card:"FixWordDialog_card__2FG0T",question:"FixWordDialog_question__2AwEM",pinIcon:"FixWordDialog_pinIcon__3c13A",inputContainer:"FixWordDialog_inputContainer__3CXs1",button:"FixWordDialog_button__2L21F"}},96:function(A,e,t){A.exports={header:"Header_header__3mObx",logo:"Header_logo__2ins2",loginButton:"Header_loginButton__15H_v"}},97:function(A,e,t){A.exports={playground:"Playground_playground__2ENmw",divider:"Playground_divider__1GJQD"}}},[[169,1,2]]]);
//# sourceMappingURL=main.593e8c2d.chunk.js.map